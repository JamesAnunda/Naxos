(window.webpackJsonpnaxos=window.webpackJsonpnaxos||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/alert.77e4ae16.mp3"},24:function(e,t,a){e.exports=a(45)},30:function(e,t,a){},42:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),c=a(22),i=a.n(c),l=(a(29),a(30),a(3)),s=a(4),r=a(7),u=a(5),h=a(8),m=a(6),p=a(9),d=a(15),b=a.n(d);a(38),a(40);b.a.initializeApp({apiKey:"AIzaSyA7-EGQyZ2kJdH0ldCzxt3-aTS5jpa8OY8",authDomain:"naxos-e0d25.firebaseapp.com",databaseURL:"https://naxos-e0d25.firebaseio.com",projectId:"naxos-e0d25",storageBucket:"naxos-e0d25.appspot.com",messagingSenderId:"873572319319",appId:"1:873572319319:web:a06c5488e284573a016312"});var g=b.a.auth(),f=b.a,v=(a(42),a(12)),w=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props.authAnon;return o.a.createElement("div",{className:"wrapper loginContainer p-4"},o.a.createElement("div",{className:"container h-100 "},o.a.createElement("div",{className:"row h-100 justify-content-center align-items-center d-flex flex-column"},o.a.createElement("h1",{className:"bg-dark text-center text-light p-2 rounded text-uppercase mb-4 w-100"},"Naxos",o.a.createElement(v.a,{icon:"heartbeat",size:"1x",className:"ml-4"})),o.a.createElement("div",{className:"jumbotron bg-light w-100"},o.a.createElement("p",{className:"text-center pt-2 font-weight-bold"},"Naxos is an application that links overdose victims together with carriers of the drug Naloxone.  This app may be used when there is an overdose victim and the community can be called on to help. Carriers of Naxolone can sign up to be notified whenever there is an overdose victim that uses this app to call for help.")),o.a.createElement("button",{className:"btn btn-info font-weight-bold text-uppercase w-100 p-3",onClick:e},"Log In Anonymously"))))}}]),t}(n.Component),E=a(14),x=a.n(E),y=function(e){function t(){return Object(l.a)(this,t),Object(r.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){new Audio(x.a).play()}},{key:"render",value:function(){return o.a.createElement("div",{className:"p-4"},o.a.createElement("button",{className:"btn btn-danger font-weight-bold text-uppercase w-100"},"Assist Victim"))}}]),t}(o.a.Component),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).state={help:null},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.setState({help:1})}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng;return o.a.createElement("div",{className:"p-4"},t,"  ",a,this.state.help&&o.a.createElement(y,null))}}]),t}(n.Component),j=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).state={},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"navigate",value:function(e){e.preventDefault();var t=e.target.id;Object(p.b)("/"+t)}},{key:"render",value:function(){return o.a.createElement("div",{className:"wrapper"},o.a.createElement("div",{className:"container h-100 d-flex flex-column align-items-center m-0 p-0 bg-warning"},o.a.createElement("h2",{className:"bg-info text-center text-light p-4 text-uppercase m-0 w-100"},"Choose your role"),o.a.createElement("div",{className:"d-flex bg-light h-50 w-100 p-4"},o.a.createElement("div",{className:"align-self-center"},o.a.createElement("h4",{className:"text-center"},"There is an overdose victim and I need assistance"),o.a.createElement("button",{id:"HelpWaiting",className:"btn btn-danger font-weight-bold text-uppercase w-100 p-4 mt-2",onClick:this.navigate},"Send Help"))),o.a.createElement("div",{className:"d-flex bg-light h-50 w-100 p-4 border-top"},o.a.createElement("div",{className:"align-self-center"},o.a.createElement("h4",{className:"text-center"},"I possess Naloxone and am able to offer assistance"),o.a.createElement("button",{id:"Helper",className:"btn btn-warning font-weight-bold text-uppercase w-100 p-4 mt-2",onClick:this.navigate},"Offer Help")))))}}]),t}(n.Component),O=new Audio(x.a),k=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).state={help:!1,audio:0},e.toggleSwitch=e.toggleSwitch.bind(Object(h.a)(e)),e.updateAudio=e.updateAudio.bind(Object(h.a)(e)),e.silence=e.silence.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"toggleSwitch",value:function(e){e.preventDefault(),this.setState({help:!this.state.help}),!0===this.state.help&&O.play()}},{key:"updateAudio",value:function(e){e.preventDefault(),O.play()}},{key:"silence",value:function(){O.pause(),O.currentTime=0,this.setState({audio:0}),this.state.help=!0}},{key:"navigate",value:function(e){e.preventDefault();var t=e.target.id;Object(p.b)("/"+t)}},{key:"componentDidMount",value:function(){O.addEventListener("ended",this.updateAudio),this.setState({help:!0})}},{key:"componentWillUnmount",value:function(){O.removeEventListener("ended",this.updateAudio)}},{key:"render",value:function(){var e=this.props,t=e.lat,a=e.lng,n=this.state.help;return o.a.createElement("div",{className:"p-0 m-0 wrapper bg-primary ".concat(!1===n?"bgFlash":"")},!0===n?o.a.createElement("div",{className:"d-flex  h-100 w-100 p-4 m-0"},o.a.createElement("div",{className:"align-self-center"},o.a.createElement("button",{onClick:this.toggleSwitch,className:"btn btn-secondary"},"Toggle"),o.a.createElement("p",null,t,"  ",a),o.a.createElement("h4",{className:"text-center text-uppercase font-weight-bold mb-4"},"On standby for overdose victims"),o.a.createElement(v.a,{icon:"heart",size:"1x",className:"heart text-danger text-center w-100 my-4"}),o.a.createElement("button",{id:"Role",className:"btn btn-dark font-weight-bold text-uppercase w-100 p-2 mt-4",onClick:this.navigate},"Go Back"))):o.a.createElement("div",{className:"d-flex h-100 w-100 p-4 m-0"},o.a.createElement("div",{className:"align-self-center"},o.a.createElement("h4",{className:"text-center text-uppercase font-weight-bold mb-4"},"A victim is in need of help nearby!"),o.a.createElement("button",{id:"ShowLocation",className:"btn btn-danger font-weight-bold text-uppercase w-100 p-4 mt-2",onClick:this.navigate},"Assist Victim"),o.a.createElement("button",{className:"btn btn-dark font-weight-bold text-uppercase w-100 p-2 mt-4",onClick:this.silence},"Silence Alert"))))}}]),t}(n.Component),A=a(13),C=a(16);A.b.add(C.b,C.c,C.a);var S=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(r.a)(this,Object(u.a)(t).call(this))).writeUserData=function(e,t,a,n){f.database().ref("users/"+e).set({username:t,email:a,profile_picture:n})},e.addMeeting=function(t){f.database().ref("meetings/".concat(e.state.user.uid)).push({meetingName:t})},e.state={user:null,phone:"+15555555555",lat:null,lng:null},e.authPhone=e.authPhone.bind(Object(h.a)(e)),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentWillUnmount",value:function(){this.setState({lat:null,lng:null})}},{key:"componentDidMount",value:function(){var e=this;navigator.geolocation.watchPosition((function(t){e.setState({lat:t.coords.latitude,lng:t.coords.longitude})}),(function(e){return console.log(e)})),g.onAuthStateChanged((function(t){t?(e.setState({user:t}),console.log("logged in"),console.log(t.uid),Object(p.b)("/Helper")):(console.log("logged out"),Object(p.b)("/Helper"))})),g.setPersistence(f.auth.Auth.Persistence.NONE).then((function(){})).catch((function(e){e.code,e.message}))}},{key:"authPhone",value:function(){var e=this.state.phone,t=window.recaptchaVerifier;f.auth().signInWithPhoneNumber(e,t).then((function(e){console.log("success"),console.log(e);e.confirm("123463").then((function(e){var t=e.user;console.log(t)})).catch((function(e){console.log(e)}))})).catch((function(e){console.log("nope error"),console.log(e)}))}},{key:"authAnon",value:function(){f.auth().signInAnonymously().catch((function(e){e.code,e.message}))}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(p.a,null,o.a.createElement(w,{path:"/",authAnon:this.authAnon}),o.a.createElement(N,{path:"/Home",lat:this.state.lat,lng:this.state.lng}),o.a.createElement(k,{path:"/Helper",lat:this.state.lat,lng:this.state.lng}),o.a.createElement(j,{path:"/Role"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[24,1,2]]]);
//# sourceMappingURL=main.f28b3798.chunk.js.map